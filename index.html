<!doctype html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
        
        <style>
        body{
           width: 100%;
           height: 100%;
            }
       .boton{
            background-color: rgb(80 85 90);
            color: white;
            opacity: 1;
            border-radius: 5px;
            padding: 5px;
            border: none;
            position: relative;
            left: 50%;
            bottom: 15%;
            z-index 9999;
            }
            .boton:hover{
            opacity: 0.5;
            }
            
        </style>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <a-scene
            vr-mode-ui="enabled: false;"
            loading-screen="enabled: false;"
            renderer="logarithmicDepthBuffer: true;"
            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
            id="scene"
            embedded
            gesture-detector
            renderer="antialias: true;
                   colorManagement: true;
                   sortObjects: true;
                   physicallyCorrectLights: false;
                   maxCanvasWidth: 1920;
                   maxCanvasHeight: 1920;"
             webxr="requiredFeatures: hit-test,local-floor;
                optionalFeatures: dom-overlay,unbounded;
                overlayElement: #overlay;"
        >
            <a-assets>
                <a-asset-item
                    id="animated-asset"
                    src="assets/asset.glb"
                ></a-asset-item>
                <a-asset-item
                    id="maquinaectractora"
                    src="assets/extractora_petrolifera.glb"
                ></a-asset-item>
            </a-assets>

            <a-marker
                id="animated-marker"
                type="pattern"
                preset="hiro"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                id="markerA"
            >
                <a-entity
                    id="motorexplosion"
                    position="0 -1.5 0"
                    scale="0.65 0.65 0.65"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset"
                    class="clickable"
                    gesture-handler
                    visible="true"
                ></a-entity>
                
                <a-entity
                    id="maq-extract"
                    position="0 -1.5 0"
                    scale="0.65 0.65 0.65"
                    animation-mixer="loop: repeat"
                    gltf-model="#maquinaectractora"
                    class="clickable"
                    gesture-handler
                    visible="false"
                ></a-entity>
            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>
        <div
           id="overlay">
            <div
              id="botones" class="botones>
                <button id="btn_motor" class="boton" type="button">Motor explosión</button>
                <button id="btn_extract" class="boton" type="button">Máquina extractora</button>
            </div>
        </div>
       <script>
             const btn_motor = document.querySelector('#btn_motor');
             const btn_extract = document.querySelector('#btn_extract');
             const motor = document.querySelector('#motorexplosion');
             const maqu_extract = document.querySelector('#maq-extract');
                                                                    
             btn_motor.addEventListener('mouseenter', function(){
                motor.setAttribute('visible', true);
                maqu_extract.setAttribute('visible', false);                                                      
             });
              
             btn_extract.addEventListener('mouseenter', function(){
                motor.setAttribute('visible', false);
                maqu_extract.setAttribute('visible', true);                                                      
             });
      </script>                                                             
    </body>
</html>
